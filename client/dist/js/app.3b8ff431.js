(function(){"use strict";var e={3553:function(e,n,t){var a=t(9242),i=t(3396);const r={id:"app"};function o(e,n,t,a,o,s){const l=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(l)])}var s={name:"App"},l=t(89);const c=(0,l.Z)(s,[["render",o]]);var u=c,m=t(2483),d=(t(7658),t(7139)),h=t.p+"img/houses.af90a07c.jpg";const f=e=>((0,i.dD)("data-v-71ef0354"),e=e(),(0,i.Cn)(),e),p={class:"game-window"},v=f((()=>(0,i._)("h3",null,"Find the elves!",-1))),g={class:"timer"},w={class:"game-window__container"},_={class:"image-container"},k=f((()=>(0,i._)("img",{src:h,class:"gameboard-img",alt:"elf background"},null,-1))),y=["onClick","src","id"];function b(e,n,t,a,r,o){const s=(0,i.up)("CustomModal");return(0,i.wg)(),(0,i.iD)("div",p,[(0,i._)("nav",null,[v,(0,i._)("h4",g,"Time: "+(0,d.zw)(r.timer),1),(0,i._)("h4",null,"Elves remaining: "+(0,d.zw)(o.elvesRemaining),1),(0,i._)("div",null,[(0,i._)("button",{onClick:n[0]||(n[0]=n=>e.$router.push("/"))},"Restart")])]),r.modal?((0,i.wg)(),(0,i.j4)(s,{key:0,show:r.modal,onConfirm:e.confirm,onCancel:e.cancel,timeTaken:o.timeTaken},null,8,["show","onConfirm","onCancel","timeTaken"])):(0,i.kq)("",!0),(0,i._)("div",w,[(0,i._)("div",_,[k,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.elves,(e=>((0,i.wg)(),(0,i.iD)("img",{key:e._id,class:"game-window__elf",onClick:n=>o.handleElfClick(e),src:e.url,alt:"elf",id:"elf"+e.elfId,draggable:"false"},null,8,y)))),128))])])])}var C=t(4311);const T=e=>((0,i.dD)("data-v-4604c9ac"),e=e(),(0,i.Cn)(),e),O={class:"modal"},D=T((()=>(0,i._)("h2",null,"Well done!",-1))),j=T((()=>(0,i._)("h4",null,"Please enter your name",-1))),S={class:"modal-buttons"};function G(e,n,t,r,o,s){return(0,i.wg)(),(0,i.iD)("div",O,[D,(0,i._)("h3",null,"You found all the elves in "+(0,d.zw)(t.timeTaken)+" seconds",1),j,(0,i.wy)((0,i._)("input",{type:"text",name:"name",id:"name",placeholder:"Enter your name","onUpdate:modelValue":n[0]||(n[0]=n=>e.name=n)},null,512),[[a.nr,e.name]]),(0,i._)("div",S,[(0,i._)("button",{class:"cancel",onClick:n[1]||(n[1]=(...e)=>s.cancel&&s.cancel(...e))},"Cancel"),(0,i._)("button",{class:"confirm",onClick:n[2]||(n[2]=(...e)=>s.confirm&&s.confirm(...e))},"Confirm")])])}var I={name:"CustomModal",props:{show:{type:Boolean,default:!1},timeTaken:{type:Number,default:0}},data:function(){return{name:""}},methods:{async confirm(){if(""!==this.name)try{await C.Z.post("api/highScore",{name:this.name,timeTaken:this.timeTaken}),this.$router.push("/")}catch(e){console.log(e)}},cancel(){this.$router.push("/")}},computed:{nameInput(){return this.name}}};const Z=(0,l.Z)(I,[["render",G],["__scopeId","data-v-4604c9ac"]]);var x=Z,E={name:"GameWindow",data(){return{elves:[],timer:0,name:"",gameOver:!1,modal:!1}},async mounted(){const e=await C.Z.get("api/elf");this.elves=e.data,console.log(this.elves),this.startTimer()},methods:{resetTimer(){this.timer=0},startTimer(){this.modal||this.gameOver||(this.timer=Math.round(100*(this.timer+.01))/100,setTimeout(this.startTimer,10))},pauseTimer(){clearInterval(this.timer)},reset(){this.$router.push("/")},endGame(){this.gameOver=!0,this.modal=!0,this.pauseTimer()},openModal(){this.modal=!0,this.pauseTimer()},handleElfClick(e){const n=this.elves.find((n=>n._id===e._id));this.elves.splice(this.elves.indexOf(n),1),0===this.elves.length&&this.endGame()}},components:{CustomModal:x},computed:{elvesRemaining(){return this.elves.length},timeTaken(){return this.timer}}};const M=(0,l.Z)(E,[["render",b],["__scopeId","data-v-71ef0354"]]);var z=M;const P=e=>((0,i.dD)("data-v-5e21d3c4"),e=e(),(0,i.Cn)(),e),$={class:"splash-screen"},R=P((()=>(0,i._)("h1",null,"Elf Invaders",-1))),W=P((()=>(0,i._)("h2",null,"Quickest Times",-1)));function Y(e,n,t,a,r,o){return(0,i.wg)(),(0,i.iD)("div",$,[R,(0,i._)("button",{class:"play",onClick:n[0]||(n[0]=(...e)=>o.startGame&&o.startGame(...e))},"Play"),W,(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.highScores,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e.id},(0,d.zw)(e.name)+": "+(0,d.zw)(e.timeTaken)+"s ",1)))),128))])])}var F={name:"SplashScreen",data(){return{highScores:[]}},async mounted(){try{const e=await C.Z.get("api/highScore");console.log(e.data),this.highScores=e.data}catch(e){console.log(e)}},methods:{startGame(){this.$router.push("/game")}}};const H=(0,l.Z)(F,[["render",Y],["__scopeId","data-v-5e21d3c4"]]);var K=H;const q=[{path:"/",name:"Splash",component:K},{path:"/game",name:"Game",component:z}],A=(0,m.p7)({history:(0,m.PO)(),routes:q});var B=A;(0,a.ri)(u).use(B).mount("#app")}},n={};function t(a){var i=n[a];if(void 0!==i)return i.exports;var r=n[a]={exports:{}};return e[a](r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(n,a,i,r){if(!a){var o=1/0;for(u=0;u<e.length;u++){a=e[u][0],i=e[u][1],r=e[u][2];for(var s=!0,l=0;l<a.length;l++)(!1&r||o>=r)&&Object.keys(t.O).every((function(e){return t.O[e](a[l])}))?a.splice(l--,1):(s=!1,r<o&&(o=r));if(s){e.splice(u--,1);var c=i();void 0!==c&&(n=c)}}return n}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[a,i,r]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.p="/"}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,a){var i,r,o=a[0],s=a[1],l=a[2],c=0;if(o.some((function(n){return 0!==e[n]}))){for(i in s)t.o(s,i)&&(t.m[i]=s[i]);if(l)var u=l(t)}for(n&&n(a);c<o.length;c++)r=o[c],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(u)},a=self["webpackChunkclient"]=self["webpackChunkclient"]||[];a.forEach(n.bind(null,0)),a.push=n.bind(null,a.push.bind(a))}();var a=t.O(void 0,[998],(function(){return t(3553)}));a=t.O(a)})();
//# sourceMappingURL=app.3b8ff431.js.map